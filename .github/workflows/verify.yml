name: Verify Worker

on:
  workflow_dispatch:
    inputs:
      url:
        description: "Verification URL"
        required: true

jobs:
  verify:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Setup Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.11'

    - name: Install deps
      run: pip install -r requirements.txt

    - name: Run runner
      run: |
        echo "URL: ${{ github.event.inputs.url }}"
        python runner.py "${{ github.event.inputs.url }}"

    - name: Save result
      run: |
        echo "done" > result.txt
